@using LifeOne.Models.Manager
@model LifeOne.Models.HomeManagement.HEntity.MCustomerRegistration
@{
    ViewBag.Title = "ViewProfile";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<style>



    /*====================================*/
    /* my new css update Start*/
    /*====================================*/

    .kycinfo span {
        display: inline-block;
        padding-right: 50px;
        width: 49%;
        padding: 10px 5px 0px 0;
    }

    .bagicome {
        padding: 10px 0;
        border-right: 1px solid #d8d8d8;
        display: block;
    }

    .card-icon {
        margin-top: 4px;
        width: 100%;
        text-align: center;
        margin-bottom: 10px;
    }

    .cardIco {
        max-width: 50px;
        max-height: 50px;
        width: 50px;
        border-radius: 50%;
        border: 1px solid #d8d8d8;
        margin: 0px auto;
        -webkit-box-shadow: 0px 0px 5px 1px rgb(0 0 0 / 10%);
        box-shadow: 0px 0px 5px 1px rgb(0 0 0 / 10%);
        padding: 10px;
    }

        .cardIco img {
            width: 100%;
        }

    .productDet {
        padding: 0px 10px 0 15px;
        line-height: 21px;
        text-align: center;
        width: 100%;
    }

        .productDet h3 {
            font-weight: 500;
            font-size: 20px;
        }

            .productDet h3 small {
                font-size: 10px;
                display: block;
            }

        .productDet h5 {
            text-transform: uppercase;
        }
    /*====================================*/
    /* my new css update End*/
    /*====================================*/
</style>
<div class="container-fluid">
    <div class="row page-titles">
        <div class="ptitle">
            <h4 class="mb-1 mt-0">My Profile</h4>
            <nav aria-label="breadcrumb" class="float-left mt-1">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/Admin-Dashboard">Dashboard</a></li>
                    <li class="breadcrumb-item"><a href="#">Profile</a></li>
                    <li class="breadcrumb-item active" aria-current="page">My Profile</li>

                </ol>
            </nav>
        </div>
    </div>
    
        <!-- content -->
        <!-- Row -->
        <div class="row">
            <!-- Column -->
            <div class="col-lg-4 col-xlg-3 col-md-5">
                <div class="card profile-widget">

                    <div class="card-body text-center p-0">
                        <div class="profile-info pt-3 position-relative">
                            <div class="editProfilepic_edit">
                                <a class="#-" data-toggle="modal" data-target="#myModal2" style="float:right;" title="Update Image">
                                </a>
                            </div>
                            <img src="@(Model.profilepic != null ? Model.profilepic : "")" class="img-thumbnail avatar-xl rounded-circle" onerror="this.src = '';this.src='/Content/Associate/assets/images/no-img.jpg'" />
                            <h3 class="mt-2 mb-0">@Model.Name</h3>

                            <h5 class="mt-2 mb-0">
                                @Model.LoginId @{if (Model.Iskyc == true)
                                    { <text>
                                            <img src="~/Content/images/checkmark.svg" height="20px" width="20px" /></text>}
                                }
                            </h5>
                            <h4>
                                <span><a href="/Admin-ChangePassword?FK_MemId=@Model.Fk_MemId" title="Change Password" class="btn btn-primary btn-sm">Change Password</a></span>
                                <span><a href="/Admin-EditUserDetails?FK_MemId=@Model.Fk_MemId" title="Edit" class="btn btn-primary btn-sm">Edit</a></span>
                            </h4>
                            <h6 class="text-muted font-weight-normal mt-2 mb-1">@Model.PerformanceLevel</h6>
                        </div>
                    </div>
                    <div class="card-body p-3">
                        <div class="row mt-2 border-top pt-2">
                            <div class="col-12">
                                <div class="message-box">

                                    <!-- Message -->
                                    <div class="message-widget">
                                        <div class="mail-contnet">
                                            <div class="payReq">
                                                <div class="payDet">
                                                    <h5>Self Team</h5>
                                                </div>
                                                <div class="payRwallet">
                                                    <h6>@Model.Team</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="message-widget">
                                        <div class="mail-contnet">
                                            <div class="payReq">
                                                <div class="payDet">
                                                    <h5>Team</h5>
                                                </div>
                                                <div class="payRwallet">
                                                    <h6>@Model.TotalTeam</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="message-widget">
                                        <div class="mail-contnet">
                                            <div class="payReq">
                                                <div class="payDet">
                                                    <h5>Mobile Users</h5>
                                                </div>
                                                <div class="payRwallet">
                                                    <h6>@Model.MobileTeam</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Message -->
                                    <div class="message-widget">
                                        <div class="mail-contnet">
                                            <div class="payReq">
                                                <div class="payDet">
                                                    <h5>Mobile </h5>
                                                </div>
                                                <div class="payRwallet">
                                                    <h6>+91 @Model.MobileNo</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Message -->
                                    <div class="message-widget">
                                        <div class="mail-contnet">
                                            <div class="payReq">
                                                <div class="payDet">
                                                    <h5>Joining Date </h5>
                                                </div>
                                                <div class="payRwallet">
                                                    <h6>@Model.JoiningDate</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Message -->
                                    <div class="message-widget">
                                        <div class="mail-contnet">
                                            <div class="payReq">
                                                <div class="payDet">
                                                    <h5>Date of Birth</h5>
                                                </div>
                                                <div class="payRwallet">
                                                    <h6>@Model.DOB</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Message -->
                                </div>

                                @*<h5 class="mt-2 mb-3 text-center">
                                        KYC  Information
                                    </h5>*@
                                @*<div class="kycinfo">
                                        @if (Model.IsApprovedPanCard == true)
                                        {
                                            <span><img src="~/Content/admin-assets/images/tick.png" />PAN Verified  </span>
                                        }
                                        else
                                        {
                                            <span><img src="~/Content/admin-assets/images/pending.png" />PAN Pending  </span>
                                        }

                                        @if (Model.IsAdharApproved == true)
                                        {
                                            <span><img src="~/Content/admin-assets/images/tick.png" />AADHAAR Verified  </span>
                                        }
                                        else
                                        {
                                            <span><img src="~/Content/admin-assets/images/pending.png" />AADHAAR Pending  </span>
                                        }

                                        @if (Model.IsApprovedBank == true)
                                        {
                                            <span><img src="~/Content/admin-assets/images/tick.png" />Bank Verified  </span>
                                        }
                                        else
                                        {
                                            <span><img src="~/Content/admin-assets/images/pending.png" />Bank Pending  </span>
                                        }
                                        <input type="text" id="myInput" value="@Model.LoginId" style="display:none" />
                                        <a onclick="myFunction()" style="cursor:pointer"><img src="~/Content/admin-assets/images/copy.png" alt=""> Copy Referal Code</a>


                                    </div>*@
                            </div>

                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body p-0">
                        <h5 class="card-title header-title border-bottom p-3 mb-0">Business</h5>
                        <!-- stat 1 -->
                        <div class="media px-3 py-2 border-bottom">
                            <div class="media-body">
                                <h5 class="mt-0 mb-1 font-size-18 font-weight-normal">Today Transaction</h5>

                            </div>
                            <h6 class="text-muted badge-soft-success m-0 p-2">@Model.TodayTransaction</h6>
                        </div>

                        <!-- stat 2 -->
                        <div class="media px-3 py-2 border-bottom">
                            <div class="media-body">
                                <h5 class="mt-0 mb-1 font-size-18 font-weight-normal">Total Self Transaction</h5>
                            </div>
                            <h6 class="text-muted badge-soft-success m-0 p-2">@Model.TotalSelfTransaction</h6>
                        </div>

                        <!-- stat 3 -->
                        @*<div class="media px-3 py-2">
                                <div class="media-body">
                                    <h5 class="mt-0 mb-1 font-size-18 font-weight-normal">Total Team</h5>
                                </div>
                                <h6 class="text-muted badge-soft-success m-0 p-2">@Model.TotalTeam</h6>
                            </div>*@
                    </div>
                </div>
            </div>
            <!-- Column -->
            <!-- Column -->
            <div class="col-lg-8 col-xlg-9 col-md-7">
                <div id="accordion">
                    <div class="card">

                        <div class="row">

                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/cash.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong>  @Model.dtBusinessDetails.Rows[0]["TotalSponsoring"].ToString()</strong></h3>
                                        <h5>Total Sponsoring</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/get-money.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong> @Model.dtBusinessDetails.Rows[0]["ActiveSponsoring"].ToString()</strong> </h3>
                                        <h5>Active Sponsor</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/get-money.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong> @Model.dtBusinessDetails.Rows[0]["InactiveSponsoring"].ToString()</strong> </h3>
                                        <h5>InActive Sponsor</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/get-money.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong> @Model.dtBusinessDetails.Rows[0]["DirectBv"].ToString()</strong> </h3>
                                        <h5>Direct BV</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                        </div>


                    </div>
                    <div class="card">
                        <div class="row">

                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/cash.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong>  @Model.dtBusinessDetails.Rows[0]["DirectBv"].ToString()</strong></h3>
                                        <h5>Direct Bv</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/get-money.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong> @Model.dtBusinessDetails.Rows[0]["DirectBusiness"].ToString()</strong> </h3>
                                        <h5>Direct Business</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/get-money.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong> @Model.dtBusinessDetails.Rows[0]["LeftBV"].ToString()</strong> </h3>
                                        <h5>Left BV</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/get-money.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong> @Model.dtBusinessDetails.Rows[0]["RightBV"].ToString()</strong> </h3>
                                        <h5>Right BV</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                        </div>
                    </div>



                    <div class="card">
                        <div class="row">

                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/cash.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong>  @Model.dtBusinessDetails.Rows[0]["MatchingBV"].ToString()</strong></h3>
                                        <h5>Matching Bv</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/get-money.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong> @Model.dtBusinessDetails.Rows[0]["LeftBVRepurchase"].ToString()</strong> </h3>
                                        <h5>Left BV Repurchase</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/get-money.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong> @Model.dtBusinessDetails.Rows[0]["RightBVRepurchase"].ToString()</strong> </h3>
                                        <h5>Right BV Repurchase</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-12">
                                <div class="bagicome">
                                    <div class="card-icon">
                                        @*<div class="cardIco"><img src="~/Content/admin-assets/images/get-money.png" alt=""></div>*@
                                    </div>
                                    <div class="productDet">
                                        <h3><strong> @Model.dtBusinessDetails.Rows[0]["MatchingBVRepurchase"].ToString()</strong> </h3>
                                        <h5>Matching BV Repurchase</h5>

                                    </div>
                                    <div class="clear"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="wallet" class="collapse show" data-parent="#accordion">
                        <div class="card">
                            <div class="card-body">
                                <div class="message-box">
                                    <table class="table mb-0" id="tblCustomers">
                                        <thead>
                                            <tr>

                                                <th>LoginId</th>
                                                <th>Name</th>
                                                <th>Package</th>
                                                <th>Franchise LoginId</th>
                                                <th>Franchise Name</th>
                                                <th>Topup Date</th>
                                                <th>Joining Date</th>
                                                <th>PayMent Mode</th>
                                                <th style="text-align:right">Amount</th>
                                                <th style="text-align:right">BV</th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (Model != null && Model.dtDirectBusiness.Rows.Count > 0)
                                            {

                                                for (var i = 0; i < Model.dtDirectBusiness.Rows.Count; i++)
                                                {

                                                    <tr>

                                                        <td style="width:312px;">@Model.dtDirectBusiness.Rows[i]["LoginId"].ToString()</td>
                                                        <td style="width:312px;">@Model.dtDirectBusiness.Rows[i]["Name"].ToString()</td>
                                                        <td style="width:312px;">@Model.dtDirectBusiness.Rows[i]["PackageName"].ToString()</td>
                                                        <td style="width:312px;">@Model.dtDirectBusiness.Rows[i]["FLoginId"].ToString()</td>
                                                        <td style="width:312px;">@Model.dtDirectBusiness.Rows[i]["FranchiseName"].ToString()</td>
                                                        <td style="width:312px;">@Model.dtDirectBusiness.Rows[i]["TopupDate"].ToString()</td>
                                                        <td style="width:312px;">@Model.dtDirectBusiness.Rows[i]["JoiningDate"].ToString()</td>
                                                        <td style="width:312px;">@Model.dtDirectBusiness.Rows[i]["PayMentMode"].ToString()</td>
                                                        <td style="text-align:right">@Model.dtDirectBusiness.Rows[i]["Amount"].ToString()</td>
                                                        <td style="text-align:right">@Model.dtDirectBusiness.Rows[i]["BV"].ToString()</td>

                                                    </tr>
                                                }
                                            }

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="cashback" class="collapse" data-parent="#accordion">
                        <div class="card">
                            <div class="card-body">
                                <div class="message-box">
                                    @if (Model.CashBackWalletDetailList != null && Model.CashBackWalletDetailList.Count > 0)
                                    {
                                        foreach (var item in Model.CashBackWalletDetailList)
                                        {
                                            <div class="message-widget">
                                                <div class="mail-contnet">
                                                    <div class="payReq">
                                                        <div class="payDet">
                                                            <span style="position:absolute;top:15px;">
                                                                @if (item.TransactionType == "Debit")
                                                                {
                                                                    <img src="~/Content/images/debit.svg" height="20px" width="20px" />
                                                                }
                                                                else
                                                                {
                                                                    <img src="~/Content/images/credit.svg" height="20px" width="20px" />
                                                                }
                                                            </span>
                                                            <div style="padding-left:30px;">
                                                                <h5>
                                                                    @item.UtilityType
                                                                    @if (item.Status.ToLower() == "credit")
                                                                    {
                                                                        <span class="badge badge-soft-success py-1">@item.Status</span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span class="badge badge-soft-danger py-1">@item.Status</span>
                                                                    }
                                                                </h5>
                                                                <span class="time">@item.Remarks</span>
                                                            </div>
                                                        </div>
                                                        <div class="payRwallet">

                                                            <h5 class="text-black mb-1">
                                                                @if (item.TransactionType == "Debit")
                                                                {
                                                                    <span style="color:red;">  <i class="fa fa-inr"></i>@item.TransactionAmount</span>
                                                                }
                                                                else
                                                                {
                                                                    <span style="color:green;"> <i class="fa fa-inr"></i>@item.TransactionAmount</span>
                                                                }
                                                            </h5>

                                                            <span class="time"><i class="fa fa-calendar-o"></i> @item.TransactionDate.Date.ToShortDateString() <i class="fa fa-clock-o"></i> @item.TransactionDate.ToShortTimeString() </span>
                                                            <span class="mail-desc">TXN No. : @item.TransNo</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                        <div class="text-right mt-2">
                                            <a href="/Admin-MemberCashBack?Fk_MemId=@Html.Raw(Model.Fk_MemId)">View More</a>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="message-widget">
                                            <div class="mail-contnet">
                                                <div class="payReq text-center">
                                                    <span class="text text-danger">No CashBack Transaction Availiable</span>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="commission" class="collapse" data-parent="#accordion">
                        <div class="card">
                            <div class="card-body">
                                <div class="message-box">
                                    @if (Model.CommissionDetailList != null && Model.CommissionDetailList.Count > 0)
                                    {
                                        foreach (var item in Model.CommissionDetailList)
                                        {
                                            <div class="message-widget">
                                                <div class="mail-contnet">
                                                    <div class="payReq">
                                                        <div class="payDet">
                                                            <span style="position:absolute;top:15px;">
                                                                @if (item.Status == "Debit")
                                                                {
                                                                    <img src="~/Content/images/debit.svg" height="20px" width="20px" />
                                                                }
                                                                else
                                                                {
                                                                    <img src="~/Content/images/credit.svg" height="20px" width="20px" />
                                                                }
                                                            </span>
                                                            <div style="padding-left:30px;">
                                                                <h5>
                                                                    @item.UtilityType
                                                                    @if (item.Status.ToLower() == "credit")
                                                                    {
                                                                        <span class="badge badge-soft-success py-1">@item.Status</span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span class="badge badge-soft-danger py-1">@item.Status</span>
                                                                    }
                                                                </h5>
                                                                <span class="time">@item.Remarks</span>
                                                            </div>
                                                        </div>
                                                        <div class="payRwallet">
                                                            <h5>

                                                                @if (item.Status.ToLower() == "credit")
                                                                {
                                                                    <span style="color:red;"><i class="fa fa-inr"></i>@item.TransactionAmount</span>
                                                                }
                                                                else
                                                                {
                                                                    <span style="color:green;"><i class="fa fa-inr"></i>@item.TransactionAmount</span>
                                                                }
                                                            </h5>
                                                            <span class="time"><i class="fa fa-calendar-o"></i> @item.TransactionDate.Date.ToShortDateString() <i class="fa fa-clock-o"></i> @item.TransactionDate.ToShortTimeString() </span>
                                                            <span class="mail-desc">@item.TransNo</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                        <div class="text-right mt-2">
                                            <a href="/Admin-MemberCommision?Fk_MemId=@Html.Raw(Model.Fk_MemId)">View More</a>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="message-widget">
                                            <div class="mail-contnet">
                                                <div class="payReq text-center">
                                                    <span class="text text-danger">No Commission Transaction Availiable</span>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                    <!-- Message -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <!-- Column -->
        </div>
        <!-- Row -->
        <!-- end row -->

</div>

<script>
    function myFunction() {
        var txt = $('#myInput').val();
        if (!txt || txt == '') {
            return;
        }

        copyTextToClipboard(txt);
        $('textarea').val('').focus();
    }

    function copyTextToClipboard(text) {
        var textArea = document.createElement("textarea");

        textArea.style.position = 'fixed';
        textArea.style.top = 0;
        textArea.style.left = 0;
        textArea.style.width = '2em';
        textArea.style.height = '2em';
        textArea.style.padding = 0;
        textArea.style.border = 'none';
        textArea.style.outline = 'none';
        textArea.style.boxShadow = 'none';
        textArea.style.background = 'transparent';
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        try {
            var successful = document.execCommand('copy');
            var msg = successful ? 'Successfully' : 'Unsuccessful';
            alert("Text Copied " + msg);
            //console.log('Copying text command was ' + msg);
        } catch (err) {
            console.log('Oops, unable to copy');
        }
        document.body.removeChild(textArea);
    }


</script>