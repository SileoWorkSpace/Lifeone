@model LifeOne.Models.AdminManagement.AEntity.MAdminDashbord
@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    decimal amount = 0;
}
<style>
    .text-red {
        color: red;
    }
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="https://code.highcharts.com/stock/highstock.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/maps/modules/map.js"></script>

<script src="https://code.highcharts.com/stock/modules/series-label.js"></script>
<script src="https://code.highcharts.com/stock/highcharts-more.js"></script>
<script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
<script src="https://code.highcharts.com/stock/modules/export-data.js"></script>
<script src="https://code.highcharts.com/stock/modules/accessibility.js"></script>
<script src="https://code.highcharts.com/stock/modules/dumbbell.js"></script>

<div class="content-page">
    <div class="content">
        <!-- Start Content-->
        <div class="container-fluid">
            <div class="row page-title">
                <div class="col-sm-12 col-xl-12">
                    <h4 class="mb-1 mt-0">Dashboard</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 col-xl-3">
                    <div class="card">
                        <div class="card-body p-0">
                            <div class="media p-3">
                                <div class="media-body">



                                    <span class="text-muted text-uppercase font-size-12 font-weight-bold">Total Direct Seller's</span>

                                    <div class="h2 mb-0">
                                        @*<span>@Model.TotalBID<br> BID</span>
                                            <span class="border-right border-left px-1 mx-1">@Model.TotalUID <br>UID</span>*@
                                        <span>@ViewBag.TotalAssocaite</span>
                                    </div>
                                </div>
                                <div class="align-self-end">
                                    <div class="icon-box">
                                        <i data-feather="users" class="align-self-center icon-dual icon-lg text-info"></i>
                                    </div>
                                    <a href="/DirectSellers" class="text-info font-weight-bold font-size-13">View All</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-xl-3">
                    <div class="card">
                        <div class="card-body p-0">
                            <div class="media p-3">
                                <div class="media-body">
                                    <span class="text-muted text-uppercase font-size-12 font-weight-bold">Today's Joining</span>
                                    <h2 class="mb-0">@ViewBag.TodaysJoining</h2>
                                </div>
                                <div class="align-self-end">
                                    <div class="icon-box">
                                        <i data-feather="briefcase" class="align-self-center icon-dual icon-lg text-danger"></i>
                                    </div>
                                    @*<a href="/View-New-Request" class="text-danger font-weight-bold font-size-13">View All</a>*@
                                    <a href="/Admin-Members" class="text-danger font-weight-bold font-size-13">View All</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-xl-3">
                    <div class="card">
                        <div class="card-body p-0">
                            <div class="media p-3">
                                <div class="media-body">
                                    <span class="text-muted text-uppercase font-size-12 font-weight-bold">Active Associate</span>
                                    <h2 class="mb-0">@ViewBag.ActiveAssociate</h2>
                                </div>
                                <div class="align-self-end">
                                    <div class="icon-box">
                                        <i data-feather="shopping-cart" class="align-self-center icon-dual icon-lg text-warning"></i>
                                    </div>
                                    @*<a href="/FranchiseSell" class="text-warning font-weight-bold font-size-13">View All</a>*@
                                    <a href="/DirectSellers" class="text-warning font-weight-bold font-size-13">View All</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-xl-3">
                    <div class="card">
                        <div class="card-body p-0">
                            <div class="media p-3">
                                <div class="media-body">
                                    <span class="text-muted text-uppercase font-size-12 font-weight-bold">Package Sale</span>
                                    @*<h2 class="mb-0" id="balance">@Model.TodayRepurchaseCount</h2>*@
                                    <h2 class="mb-0" id="balance">@ViewBag.TotalPackageSale</h2>
                                </div>

                                <div class="align-self-end">
                                    <div class="icon-box">
                                        <i data-feather="shopping-cart" class="align-self-center icon-dual icon-lg text-primary"></i>
                                    </div>
                                    @*<a href="/AllTransactionLog" class="text-primary font-weight-bold font-size-13">View All</a>*@
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- stats + charts -->
            <div class="row">
                <div class="col-xl-6 col-lg-6">
                    <div class="card">
                        <div class="card-body">

                            <h5 class="card-title mt-0 mb-0 header-title">Direct Seller  Statistics</h5>


                            <div class="chart">
                                <div id="container" style="width: 100%; height: 400px; margin: 0 auto"></div>
                                <a href="/DirectSellers" class="label label-warning pull-right">More Details..</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 col-lg-6">
                    @*<div class="card">
                            <div class="card-body">
                                <h5 class="card-title mt-0 mb-0 header-title">Utility</h5>
                                <div class="chart">
                                    <div id="PackageChart" style="width: 100%; height: 400px; margin: 0 auto"></div>





                                    <a href="/AllTransactionLog" class="label label-warning pull-right">More Details..</a>
                                </div>
                            </div>
                        </div>*@
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title mt-0 mb-0 header-title">Package Details</h5>
                            <div class="row">
                                <div class="col-md-6 col-xl-4">
                                    <div class="">
                                        <div class="card-body p-0 text-center">
                                            <div class="media p-3">
                                                <div class="media-body">
                                                    <h2 class="mb-0">&#x20B9;<span id="amountAdded">@ViewBag.TotalPackageSale</span></h2>
                                                    <span class="text-muted text-uppercase font-size-12 font-weight-bold">Package Sale</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xl-4">
                                    <div class="">
                                        <div class="card-body p-0 text-center">
                                            <div class="media p-3">
                                                <div class="media-body">
                                                    <h2 class="mb-0">&#x20B9; <span id="amountDebited">@ViewBag.PaidPackageSale</span></h2>
                                                    <span class="text-muted text-uppercase font-size-12 font-weight-bold">Paid Package</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xl-4">
                                    <div class="">
                                        <div class="card-body p-0 text-center">
                                            <div class="media p-3">
                                                <div class="media-body">
                                                    <h2 class="mb-0">&#x20B9; <span id="amountBalance"></span>@ViewBag.FreePackageSale</h2>
                                                    <span class="text-muted text-uppercase font-size-12 font-weight-bold">Free Package</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row" style="padding:8px 0px;">
                                <div class="col-md-6 col-xl-6 font-weight-bold">Paid Activation</div>

                            </div>

                            <div>



                                @{int SNo = 1; int FrSno = 1; }

                                <table id="myTable" class="table  table-hover">
                                    <thead>
                                        <tr>

                                            <th>Package Name</th>
                                            <th>Price</th>
                                            <th>Total Sale</th>
                                            <th>Total Amount</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @for (int i = 0; i <= Model.dtPaidPackage.Rows.Count - 1; i++)
                                        {
                                            <tr>

                                                <td>@Model.dtPaidPackage.Rows[i]["PackageName"].ToString()</td>
                                                <td>@Model.dtPaidPackage.Rows[i]["Price"].ToString()</td>
                                                <td>@Model.dtPaidPackage.Rows[i]["TotalSale"].ToString()</td>
                                                <td>@Model.dtPaidPackage.Rows[i]["TotalAmount"].ToString()</td>
                                            </tr>
                                            SNo++;
                                        }
                                    </tbody>
                                </table>






                            </div>
                            <div class="row" style="padding:8px 0px;">
                                <div class="col-md-6 col-xl-6 font-weight-bold">Free Activation</div>

                            </div>

                            <div>



                                <table id="myTable" class="table  table-hover">
                                    <thead>
                                        <tr>
                                            <th>Package Name</th>
                                            <th>Price</th>
                                            <th>Total Sale</th>
                                            <th>Total Amount</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @for (int i = 0; i <= Model.dtFreePackage.Rows.Count - 1; i++)
                                        {
                                            <tr>
                                                <td>@Model.dtFreePackage.Rows[i]["PackageName"].ToString()</td>
                                                <td>@Model.dtFreePackage.Rows[i]["Price"].ToString()</td>
                                                <td>@Model.dtFreePackage.Rows[i]["TotalSale"].ToString()</td>
                                                <td>@Model.dtFreePackage.Rows[i]["TotalAmount"].ToString()</td>
                                            </tr>
                                            FrSno++;
                                        }
                                    </tbody>
                                </table>



                            </div>

                            <!-- end table-responsive-->
                        </div>
                        <!-- end card-body-->
                    </div>




                </div>
                @*<div class="col-xl-6 col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title mt-0 mb-0 header-title">Bonus</h5>
                                <div class="chart">
                                    <div id="BonusChart" style="width: 100%; height: 400px; margin: 0 auto"></div>
                                    <a href="/PayoutReport" class="label label-warning pull-right">More Details..</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title mt-0 mb-0 header-title">Franchisee Sale</h5>
                                <div class="chart">
                                    <div id="RepurchaseOrder" style="width: 100%; height: 400px; margin: 0 auto"></div>
                                    <a href="/FranchiseSell" class="label label-warning pull-right">More Details..</a>
                                </div>
                            </div>
                        </div>
                    </div>*@
            </div>
            <!-- row -->
        </div>
    </div>


    <!-- end Footer -->
</div>

<script>
    $(document).ready(function () {
        GetGraphData();
    });
    function GetGraphData() {


        $.ajax({

            url: '/Admin/Admin/GetGraphData',
            dataType: "json",
            type: "GET",

            success: function (data) {

                var dataArray = [

                ];
                var dataArray1 = [

                ];
                var dataArray2 = [

                ];
                var dataArray3 = [

                ];
                $.each(data.lstData, function (i, item) {
                    dataArray.push([item.Name]);
                });
                $.each(data.lstData, function (i, item) {
                    dataArray1.push([item.TotalCount]);
                });
                $.each(data.lstData1, function (i, item) {
                    dataArray3.push([item.Name]);
                });
                $.each(data.lstData1, function (i, item) {
                    dataArray2.push([item.TotalCount]);
                });

               
                Highcharts.chart('container', {
                    chart: {
                        type: 'spline'
                    },
                    title: {
                        text: ''
                    },
                    credits: {
                        enabled: false
                    },

                    xAxis: {
                        categories: dataArray
                    },
                    yAxis: {
                        title: {
                            text: "Joining"
                        }
                    },
                    plotOptions: {
                        line: {
                            dataLabels: {
                                enabled: true
                            },
                            enableMouseTracking: false
                        }
                    },
                    series: [{
                        name: "Month Wise joining",
                        data: dataArray1
                        },
                        {
                            name: "Active Ids",
                            color: 'green',
                            data: dataArray2
                        }

                    ]
                });



            }
        });
        return false;
    }


</script>