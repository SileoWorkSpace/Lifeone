@model LifeOne.Models.AssociateManagement.AssociateEntity.MemberTopup
@{
    ViewBag.Title = "FranchiseEWalletRequest";
    Layout = "~/Views/Shared/_FranchiseLayout.cshtml";
}

<style>
    #alertBoxx {
        position: relative;
        z-index: 1051;
    }
</style>
<section class="content">
    @using (Html.BeginForm("FranchiseEWalletRequest", "Franchise", FormMethod.Post, new { @id = "form1",enctype = "multipart/form-data" }))
    {
        <div class="row page-titles">
            <div class="ptitle">
                <h3 class="text-themecolor">Franchisee E-Wallet Request</h3>
                @*<ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/Franchise-Dashboard">Dashboard</a></li>
                <li class="breadcrumb-item"><a href="">Franchisee</a></li>
                <li class="active breadcrumb-item" aria-current="page">E-Wallet Request</li></ol>*@
            </div>

            <div class="psearch">
                <div class="input-group">

                </div>
            </div>
        </div>

        <div class="row">
            @if (ViewBag.Alert != null)
            {
                <div class="col-md-12" id="alertBoxx">

                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        <strong> @Html.Raw(ViewBag.Alert)</strong>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>

                   
                </div>
            }

        </div>
        <div class="box box-info">
            <div class="box-body">

                <div class="row">
                    <div class="col-md-2">
                    </div>
                    <div class="col-md-8">
                        <div class="card card-outline-info">
                            <div class="card-body">

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group label-floating is-empty">
                                            <label class="form-control-placeholder" for="name">Amount</label>
                                            <input onkeypress="return isNumber(event)"  type="text" class="form-control" name="Amount" id="txtAmount" required />
                                           
                                        </div>
                                    </div>

                                </div>                            

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group label-floating is-empty">
                                            <label class="form-control-placeholder" for="name">Payment Mode</label>
                                            <select id="ddlPaymentMode" name="PaymentMode" class="form-control" required>
                                                <option value="0">Select</option>
                                                <option value="Cash">Cash</option>
                                                       <option value="Cheque">Cheque</option>
                                                     <option value="DD">DD</option>
                                                    <option value="NEFT">NEFT</option>
                                                    <option value="RTGS">RTGS</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-12" id="dv" style="display:none;">
                                        <div class="form-group label-floating is-empty">
                                            <label class="form-control-placeholder" for="name">NEFT/RTGS/Check/DD No</label>
                                            <input type="text" class="form-control" name="TransactionNo" id="txtChequeDDNo" onkeypress="return onlyNos(event,this);" />
                                        </div>
                                    </div>
                                </div>

                                <div class="row" id="dv1" style="display:none;">
                                    <div class="col-md-12">
                                        <div class="form-group label-floating is-empty">
                                            <label class="form-control-placeholder" for="name">Bank Name</label>
                                            <input type="text" class="form-control" name="BankName" id="txtBankName" />
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group label-floating is-empty">
                                            <label class="form-control-placeholder" for="name">Date</label>
                                            <input type="date" class="datepicker-all form-control" name="TransactionDate" id="mdate1" />
                                        </div>
                                    </div>
                                </div>                           
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group label-floating is-empty">
                                            <label class="form-control-placeholder" for="name">Upload</label>
                                           <input type="file" name="postedFile" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <input type="submit" name="Save" class="btn btn-fill btn-success" onclick="onValidation()" style="display:@ViewBag.add;" value="Submit" />
                                      
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <span id="dbResponse" style="color:red"></span>
                    </div>

                </div>
            </div>
        </div>

    }
</section>

<script type="text/javascript">
    $(document).ready(function () {
      
    });  

    //$("#ddlPaymentMode").change(function () {
    //    debugger;
    //    var PMode = $("#ddlPaymentMode").val();
    //    if ( PMode == "0" || PMode == "Free") {
    //        $("#dv").css("display", "none");
    //        $("#dv1").css("display", "none");
    //        // $("#txtPaidAmount").val("");
    //        $("#txtPaidAmount").prop('readonly', false);
    //    }
    //    //else if(PMode == "Free")
    //    //{
    //    //    $("#dv").css("display", "none");
    //    //    $("#dv1").css("display", "none");
    //    //    $("#txtPaidAmount").val("0");
    //    //    $("#txtPaidAmount").prop('readonly', true);
    //    //}
    //    else {
    //        $("#dv").css("display", "block");
    //        $("#dv1").css("display", "block");
    //        $("#txtPaidAmount").prop('readonly', false);
    //    }
    //});
    /*ask*/
    $("#ddlPaymentMode").change(function () {
        debugger;
        var PMode = $("#ddlPaymentMode").val();
        if (PMode == "Cash") {
            $("#dv").css("display", "none");
            $("#dv1").css("display", "none");
        } else {
            $("#dv").css("display", "block");
            $("#dv1").css("display", "block");
        }
    });
     function isNumber(evt) {
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode >= 48 && charCode <= 57
            && (charCode >= 96 || charCode <= 105)) {
            return true;
        }
        else {
            return false;
        }

    }
    
    function onValidation() {
        if ($('#txtAmount').val().trim() == "") {
            alert('Please enter Amount');
            $('#txtAmount').focus();
            return false;
        }
       

        if ($('#txtAmount').val() == 0 || $('#txtAmount').val().trim() == "") {
            alert('Please enter amount');
            $('#txtAmount').focus();
            return false;
        }

        if ($('#ddlPaymentMode').val() == 0) {
            alert('Please select payment mode');
            $('#ddlPaymentMode').focus();
            return false;
        }

        if ($('#ddlPaymentMode').val() != "Cash" && $('#ddlPaymentMode').val() != "Free") {
            if ($('#txtChequeDDNo').val().trim() == "") {
                alert('Please enter Cheque/DD/RTGS/NEFT No.');
                $('#txtChequeDDNo').focus();
                return false;
            }
            if ($('#txtBankName').val().trim() == "") {
                alert('Please enter BankName');
                $('#txtBankName').focus();
                return false;
            }
            if ($('#mdate1').val().trim() == "") {
                alert('Please enter Date');
                $('#mdate1').focus();
                return false;
            }
            $('#Save').trigger('click');
            return false;
        }
        $('#Save').trigger('click');
    }
</script>
