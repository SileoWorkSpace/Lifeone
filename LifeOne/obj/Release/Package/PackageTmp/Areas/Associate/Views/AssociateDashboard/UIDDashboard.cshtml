@model LifeOne.Models.AssociateManagement.AssociateEntity.AssociateDashBoard
@using LifeOne.Models.Manager
@{
    ViewBag.Title = "UIDDashboard";
    Layout = "~/Views/Shared/_AssociateLayout.cshtml";
}


<div class="content">
    <div class="content-wrapper-before"></div>
    <div class="container-fluid">
        <div class="row page-title align-items-center">
            <div class="col-sm-12 col-xl-6">
                <h4 class="mb-1 mt-0 text-white">
                    Welcome @SessionManager.Name<br>
                    <small class="text-muted font-size-13">You are a LifeOne Customer to become a business associate <a href="#-">click here</a></small>
                </h4>
            </div>
        </div>

        <!-- content -->
        <div class="row">
            <div class="col-md-6 col-xl-3">
                <div class="card">
                    <div class="card-body p-0">
                        <div class="media p-3">
                            <div class="media-body">
                                <span class="text-muted text-uppercase font-size-12 font-weight-bold">Team (BID)</span>
                                <h2 class="mb-0">@Model.TotalBid</h2>
                            </div>
                            <div class="align-self-center">
                                <div id="today-revenue-chart" class="apex-charts"></div>
                                <span class="text-success font-weight-bold font-size-13"><i class='uil uil-arrow-up'></i> @Model.BIDPercentage%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-3">
                <div class="card">
                    <div class="card-body p-0">
                        <div class="media p-3">
                            <div class="media-body">
                                <span class="text-muted text-uppercase font-size-12 font-weight-bold"> Customer's (UID)</span>
                                <h2 class="mb-0">@Model.TotalUId</h2>
                            </div>
                            <div class="align-self-center">
                                <div id="today-product-sold-chart" class="apex-charts"></div>
                                <span class="text-danger font-weight-bold font-size-13"><i class='uil uil-arrow-down'></i> @Model.UiDPercentage%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-3">
                <div class="card">
                    <div class="card-body p-0">
                        <div class="media p-3">
                            <div class="media-body">
                                <span class="text-muted text-uppercase font-size-12 font-weight-bold">Business</span>
                                <h2 class="mb-0">@Model.SelfBusiness</h2>
                            </div>
                            <div class="align-self-center">
                                <div id="today-new-customer-chart" class="apex-charts"></div>
                                <span class="text-success font-weight-bold font-size-13"><i class='uil uil-arrow-up'></i> @Model.BusinessPercentage%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-3">
                <div class="card">
                    <div class="card-body p-0">
                        <div class="media p-3">
                            <div class="media-body">
                                <span class="text-muted text-uppercase font-size-12 font-weight-bold">Income</span>
                                <h2 class="mb-0" style="line-height:13px;"><small class="text-muted font-size-13" style="line-height:16px;">You are not eligable for Income, kindly upgrade to business ID <a href="#-">click here</a></small></h2>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- stats + charts -->
        <div class="row">
            <div class="col-xl-3">
                <div class="card">
                    <div class="card-body p-0">
                        <h5 class="card-title header-title border-bottom p-3 mb-0">Business Stats (PV)</h5>
                        <!-- stat 1 -->
                        <div class="media px-3 py-4 border-bottom">
                            <div class="media-body">
                                <h4 class="mt-0 mb-1 font-size-22 font-weight-normal">@Model.TotalCustomer</h4>
                                <span class="text-muted">Total Customer</span>
                            </div>
                            <i class="fa fa-group fa-2x"></i>
                        </div>

                        <!-- stat 2 -->
                        <div class="media px-3 py-4 border-bottom">
                            <div class="media-body">
                                <h4 class="mt-0 mb-1 font-size-22 font-weight-normal">@Model.SelfBusiness</h4>
                                <span class="text-muted">Total Shopping</span>
                            </div>
                            <i class="fa fa-shopping-bag fa-2x"></i>
                        </div>

                        <!-- stat 3 -->
                        <div class="media px-3 py-4">
                            <div class="media-body">
                                <h4 class="mt-0 mb-1 font-size-22 font-weight-normal">@Model.ShoppingIncurrMonthPV</h4>
                                <span class="text-muted">Shopping in <b> @DateTime.Now.ToString("MMMM") @DateTime.Now.ToString("yyyy")</b></span>
                            </div>
                            <i class="fa fa-shopping-basket fa-2x"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-6">
                <div class="card">
                    <div class="card-body pb-0">
                        <ul class="nav card-nav float-right">
                            @*<li> <a class="nav-link text-muted" href="#">Today</a> </li>*@
                            @*<li> <a class="nav-link text-muted" href="#">7d</a> </li>
                                <li> <a class="nav-link active" href="#">15d</a> </li>*@
                            <li> <a class="nav-link text-muted" href="#">1m</a> </li>
                            @*<li> <a class="nav-link text-muted" href="#">1y</a> </li>*@
                        </ul>
                        <h5 class="card-title mb-0 header-title">Purchases</h5>
                        <div id="revenue-chart" class="apex-charts mt-3" dir="ltr"></div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3">
                <div class="card">
                    <div class="card-body p-0">
                        <h5 class="card-title header-title border-bottom p-3 mb-0">Business Stats (INR)</h5>
                        <!-- stat 1 -->
                        <div class="media px-3 py-4 border-bottom">
                            <div class="media-body">
                                <h4 class="mt-0 mb-1 font-size-22 font-weight-normal">@Model.TotalCustomer</h4>
                                <span class="text-muted">Total Customer</span>
                            </div>
                            <i data-feather="users" class="align-self-center icon-dual icon-lg"></i>
                        </div>

                        <!-- stat 2 -->
                        <div class="media px-3 py-4 border-bottom">
                            <div class="media-body">
                                <h4 class="mt-0 mb-1 font-size-22 font-weight-normal">@Model.CustomerShopInINR</h4>
                                <span class="text-muted">Total Shopping</span>
                            </div>
                            <i class="fa fa-shopping-cart fa-2x"></i>
                        </div>

                        <!-- stat 3 -->
                        <div class="media px-3 py-4">
                            <div class="media-body">
                                <h4 class="mt-0 mb-1 font-size-22 font-weight-normal">@Model.ShoppingCurrINR</h4>
                                <span class="text-muted">Shopping in <b>@DateTime.Now.ToString("MMMM") @DateTime.Now.ToString("yyyy")</b></span>
                            </div>
                            <i data-feather="briefcase" class="align-self-center icon-dual icon-lg"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- row -->
        <!-- products -->
        <div class="row">
            <div class="col-xl-3">
                <div class="card">
                    <div class="card-body pt-2">
                        <h5 class="mb-4 header-title">Direct Team</h5>
                        <div class="slimscroll" style="min-height: 280px;max-height: 280px;">
                            @if (Model.lstNews.Count > 0)
                            {
                                foreach (var item in Model.lstAssociates)
                                {
                                    <div class="media border-top pt-3">
                                        @if (item.profilepic != null)
                                        {
                                            <img src="@(item.profilepic.Replace("~/", "/") != null ? item.profilepic.Replace("~/", "/") : "")" alt="user-image" class="avatar rounded mr-3" onerror="this.src = '';this.src='/Content/Associate/assets/images/no-img.jpg'" />
                                        }
                                        else
                                        {
                                            <img src="~/Content/Associate/assets/images/no-img.jpg" alt="user-image" class="avatar rounded mr-3" />
                                        }
                                        <div class="media-body">
                                            <h6 class="mt-1 mb-0 font-size-15">@item.Name</h6>
                                            <h6 class="text-muted font-weight-normal mt-1 mb-3">@item.PermonaceType</h6>
                                        </div>
                                    </div>
                                }
                            }

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title mt-0 mb-0 header-title">Sales By Team</h5>
                        <div id="sales-by-category-chart" class="apex-charts mb-0 mt-4" dir="ltr"></div>
                    </div>
                    <!-- end card-body-->
                </div>
                <!-- end card-->
            </div>
            <div class="col-xl-3">
                <div class="card">
                    <div class="card-body pt-2">
                        <h5 class="mb-4 header-title">News &amp; Informaton</h5>
                        <div class="newslist">
                            <ul class="slimscroll" style="max-height: 275px;min-height: 275px;">
                                @if (Model.lstNews.Count > 0)
                                {
                                    foreach (var item in Model.lstNews)
                                    {
                                        <li class="clearfix">
                                            <p><strong>@item.NewsHeading</strong></p>
                                            <p class="description">@item.News</p>
                                            <p class="font-size-12"><em>Admin</em><small class="font-size-12"> <i class="fa fa-calendar"></i>@item.Date</small></p>
                                        </li>
                                    }
                                }

                            </ul>
                        </div>
                        <!-- end .chat-conversation-->
                    </div>
                </div>
            </div>
        </div>
        <!-- end row -->

    </div>
</div>


<script>
        !(function (r) {
            "use strict";
            function t() {
                (this.$body = r("body")), (this.$chatInput = r(".chat-input")), (this.$chatList = r(".conversation-list")), (this.$chatSendBtn = r(".chat-send")), (this.$chatForm = r("#chat-form"));
            }
            (t.prototype.init = function () {
                var e = this;
                e.$chatInput.keypress(function (t) {
                    if (13 == t.which) return e.save(), !1;
                }),
                    e.$chatForm.on("submit", function (t) {
                        return t.preventDefault(), e.save(), e.$chatForm.removeClass("was-validated"), e.$chatInput.val(""), !1;
                    });
            }),
                (r.ChatApp = new t()),
                (r.ChatApp.Constructor = t);
        })(window.jQuery),
            (function (o) {
                "use strict";
                function t() { }
                (t.prototype.initCharts = function () {
                    var t = {
                        chart: { type: "area", height: 45, width: 90, sparkline: { enabled: !0 } },
                        series: [{ data: [25, 66, 41, 85, 63, 25, 44, 12, 36, 9, 54] }],
                        stroke: { width: 2, curve: "smooth" },
                        markers: { size: 0 },
                        colors: ["#727cf5"],
                        tooltip: {
                            fixed: {
                                enabled: !(window.Apex = {
                                    chart: { parentHeightOffset: 0, toolbar: { show: !1 } },
                                    grid: { padding: { left: 0, right: 0 } },
                                    colors: ["#5369f8", "#43d39e", "#f77e53", "#ffbe0b"],
                                    tooltip: { theme: "dark", x: { show: !1 } },
                                }),
                            },
                            x: { show: !1 },
                            y: {
                                title: {
                                    formatter: function (t) {
                                        return "";
                                    },
                                },
                            },
                            marker: { show: !1 },
                        },
                        fill: { type: "gradient", gradient: { type: "vertical", shadeIntensity: 1, inverseColors: !1, opacityFrom: 0.45, opacityTo: 0.05, stops: [45, 100] } },
                    };
                    var e = new Date(),
                        r = {
                            chart: { height: 296, type: "area" },
                            dataLabels: { enabled: !1 },
                            stroke: { curve: "smooth", width: 4 },
                            series: [{ name: "Purchases", data: [@Model.Revenue] }],
                            zoom: { enabled: !1 },
                            legend: { show: !1 },
                            colors: ["#43d39e"],
                            xaxis: {
                                type: "string",
                                categories: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "July", "Aug", "Sep", "Oct", "Nov", "Dec"],
                                tooltip: { enabled: !1 },
                                axisBorder: { show: !1 },
                                labels: {},
                            },
                            yaxis: {
                                labels: {
                                    formatter: function (t) {
                                        return t + "₹";
                                    },
                                },
                            },
                            fill: { type: "gradient", gradient: { type: "vertical", shadeIntensity: 1, inverseColors: !1, opacityFrom: 0.45, opacityTo: 0.05, stops: [45, 100] } },
                        };
                    new ApexCharts(document.querySelector("#revenue-chart"), r).render();
                    r = {
                        plotOptions: { pie: { donut: { size: "70%" }, expandOnClick: !1 } },
                        chart: { height: 298, type: "donut" },
                        legend: { show: !0, position: "right", horizontalAlign: "left", itemMargin: { horizontal: 6, vertical: 3 } },
                        series: [44, 55, 48, 17],
                        labels: ["Clothes 44k", "Smartphons 55k", "Electronics 48k", "Other 17k"],
                        responsive: [{ breakpoint: 480, options: { legend: { position: "bottom" } } }],
                        tooltip: {
                            y: {
                                formatter: function (t) {
                                    return t + "k";
                                },
                            },
                        },
                    };
                    new ApexCharts(document.querySelector("#sales-by-category-chart"), r).render();
                }),
                    (t.prototype.init = function () {
                        o("#dash-daterange").flatpickr({ mode: "range", defaultDate: [moment().subtract(7, "days").format("YYYY-MM-DD"), moment().format("YYYY-MM-DD")] }),
                            o("#calendar-widget").flatpickr({ inline: !0, shorthandCurrentMonth: !0 }),
                            o.ChatApp.init(),
                            this.initCharts();
                    }),
                    (o.Dashboard = new t()),
                    (o.Dashboard.Constructor = t);
            })(window.jQuery),
            (function () {
                "use strict";
                window.jQuery.Dashboard.init();
            })();
</script>
